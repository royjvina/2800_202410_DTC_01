<li>
    <div class="flex flex-col">
        <div class="flex flex-row shadow-md w-full justify-between p-3 rounded-lg items-center group-container" id="<%= group._id %>">
            <!-- Group clickable area -->
            <a href="/groups?groupId=<%= group._id %>" class="flex flex-row items-center gap-4 w-full">
                <div class="flex flex-row items-center gap-4 w-full justify-between">
                    <div class="flex flex-row items-center gap-4">
                        <% if(!group.group_picBase64) { %>
                            <img class="w-10 h-10 rounded-full hover:cursor-pointer" src="/images/navbarIcons/groups.svg" alt="Group Image">
                        <% } else { %>
                        <img class="w-10 h-10 rounded-full hover:cursor-pointer" src="<%= group.group_picBase64 %>" alt="Group Image">
                        <% } %>
                        <div class="flex flex-col gap-3 p-2 pb-4">
                            <span><%= group.group_name%></span>
                            <div class="relative flex items-center">
                                <% for(let i = 0; i < (group.members).length; i++) { %>
                                    <% if (i > 5) { %>
                                        <div class="w-4 h-4 rounded-full border-2 border-white absolute left-<%= i*3 %> bg-primary text-white flex justify-center items-center">+<%= group.members.length - 3 %></div>
                                        <% break; %>
                                    <% } %>
                                    <% if (!group.members[i].user_id.profileImageBase64) { %>
                                        <img src="/images/homepageIconsAndPlaceholders/profilePicPlaceholderSettings.svg" alt="" class="w-4 h-4 rounded-full border-2 border-white absolute left-<%= i*3 %>">
                                    <% } else { %>
                                    <img src="<%= group.members[i].user_id.profileImageBase64 %>" alt="" class="w-4 h-4 rounded-full border-2 border-white absolute left-<%= i*3 %>">
                                    <% } %>
                                <% } %>
                            </div>
                            
                        </div>
                    </div>
                    <div class=" mr-10">-$50</div>
                </div>
            </a>
            <!-- Delete button -->
            <button id="<%= group._id %>Delete" class="text-primary border border-primary rounded-xl hover:bg-primary hover:text-white bg-white px-2 py-2 deleteGroup">
                Delete
            </button>
        </div>
    </div>
    <div class="m-3 flex-row justify-center items-center gap-3 hidden fadeOut" id="<%= group._id %>ConfirmDeleteOptions">
        <form action="/deleteGroup" method="post">
            <div class="text-red-600 text-center text-sm mb-2">
                All the transactions and debts will also be deleted. Are you sure you want to delete this group?
            </div>
            <div class="flex flex-row justify-center gap-2">
                <input class="text-primary border border-primary gap-3 rounded-xl hover:bg-primary hover:text-white bg-white px-3 py-2" type="submit" id="<%= group._id %>ConfirmDelete" value="Confirm">
                <input class="text-primary border border-primary gap-3 rounded-xl hover:bg-primary hover:text-white bg-white px-3 py-2" type="button" id="<%= group._id %>CancelDelete" value="Cancel">
                <input type="text" class="hidden" name="groupDeleteId" id="<%= group._id %>Selected">
            </div>
        </form>
    </div>
</li>