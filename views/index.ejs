<%- include('templates/headTags') %>
<body class="">
    <div class='flex flex-col items-center h-dvh w-dvw'>
        <div id='spacer' class="bg-inherit h-[10%]"></div>
        <div class="bg-primary max-w-[50%] w-fit h-fit rounded-full my-4">
            <img src="/images/navbarIcons/logo.png" class="mx-auto blur-[0.5px] p-8" id="logo" alt="logo">
        </div>
        <div class="text-center">
            <h1 class="text-2xl font-semibold pb-2">PennyWise</h1>
            <h2 class="text-lg">Welcome back!</h2>
            <!-- Error message if login is invalid -->
            <% if (error) { %>
                <p class="text-red-400 mx-8 pb-4">
                    Invalid login. Please try again.
                </p>
            <% } else { %>
                <p class='pb-4'>Please login to continue.</p>
            <% } %>
        </div>

        <!-- Login form start-->
        <form method="POST" class="flex flex-col items-center w-full justify-center gap-y-4 text-center">
            <input type="text" name="email" class="focus:outline-none mx-auto bg-slate-50 w-1/2 min-w-52 py-3 rounded-lg border-primary border-2 font-semibold shadow-md px-4" placeholder="Enter your email" <% if (loginEmail) { %> value="<%= loginEmail %>" <% } %>>
            <input type="password" name="password" class="focus:outline-none mx-auto bg-slate-50 w-1/2 min-w-2 py-3 rounded-lg border-primary border-2 font-semibold shadow-md px-4" placeholder="Enter your password">
            <button type="submit" id="login" class="bg-primary mx-auto text-white font-medium w-1/2 text-lg p-2 border-primary border-2 rounded-xl shadow-md">Login</button>
        </form>
        <!-- Login form end -->

        <!-- Forgot password and sign up links -->
        <% if (error === 'invalidLogin') { %>
            <p class="pt-4 text-center">
                Forgot your password? <span onclick="window.location='/reset'" class='font-bold cursor-pointer'>Reset your password</span>
            </p>
        <% } %>
        <div class="pt-4 text-center">
            <p class="">Don't have an account? <span onclick="window.location='/register'" class='font-bold cursor-pointer'>Sign up</span></p>
        </div>
    </div>
    <% if (message) { %>
        <div id="verify" tabindex="-1" aria-hidden="true" class="overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
            <div class="flex flex-col items-center justify-center h-dvh bg-secondary bg-opacity-50">
                <div class="bg-white shadow-md rounded-lg p-8 text-center">
                    <h1 class="text-3xl font-bold text-primary mb-4">An email has been sent!</h1>
                    <p class="text-lg text-gray-700 mb-4">Please click the link in your email to login.</p>
                    <button onclick="hideElement()" class="bg-primary hover:bg-secondary text-white font-bold py-2 px-4 rounded transition duration-300">Close</button>
                </div>
            </div>
        </div>
    <% } %>
    <script src="/scripts/index.js"></script>
<% include('templates/footer') %>
